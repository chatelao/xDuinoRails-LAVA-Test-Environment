# OpenOCD script for STM32-F446RE Nucleo via Raspberry Pi JTAG
#
# This uses the Raspberry Pi's GPIO pins to connect to the STM32.
# See the project README for the required HAT wiring.

# Interface
source [find interface/raspberrypi-native.cfg]
transport select jtag

# JTAG GPIO mapping
# TCK: GPIO 4
# TMS: GPIO 17
# TDI: GPIO 18
# TDO: GPIO 27
bcm2835gpio_jtag_nums 4 17 18 27

# Target
source [find target/stm32f4x.cfg]

# Use system reset (SRST)
reset_config srst_only
